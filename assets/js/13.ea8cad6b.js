(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{513:function(s,n,a){"use strict";a.r(n);var e=a(4),r=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("一、图片合成")]),s._v(" "),a("p",[s._v("1、wap移动端")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var templateFunction = function (data) {\n    var imageName = data.spritesheet.image.match(/[^\\/\\\\]+$/)[0].replace(/\\.\\w+$/, '');\n    var fn = \"@function px($size){@return ($size/40) + rem}\";\n    var shared = '%' + imageName + '{ background-image: url(' + data.sprites[0].image + ');background-repeat: no-repeat; background-size: px(' + data.spritesheet.width + ') px(' + data.spritesheet.height + ');}';\n    var perSprite = data.sprites.map(function (sprite) {\n        if (sprite.offset_x) {\n            var pX = sprite.offset_x / (sprite.width - sprite.total_width) * 100 + '%'\n        } else {\n            var pX = 0;\n        }\n        if (sprite.offset_y) {\n            var pY = sprite.offset_y / (sprite.height - sprite.total_height) * 100 + '%'\n        } else {\n            var pY = 0;\n        }\n        return '@mixin N { width: px(W); height: px(H); background-position: X Y; }'\n            .replace('N', sprite.name)\n            .replace('W', sprite.width)\n            .replace('H', sprite.height)\n            .replace('X', pX)\n            .replace('Y', pY);\n    }).join('\\n');\n\n    return fn + '\\n' + shared + '\\n' + perSprite;\n};\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br")])]),a("p",[s._v("2、pc端")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var templateFunction = function (data) {\n    var imageName = data.spritesheet.image.match(/[^\\/\\\\]+$/)[0].replace(/\\.\\w+$/, '');\n    var shared = '%' + imageName + '{ background-image: url(' + data.sprites[0].image + ');background-repeat: no-repeat;}';\n    var perSprite = data.sprites.map(function (sprite) {\n        if (sprite.offset_x) {\n            var pX = sprite.offset_x + 'px'\n        } else {\n            var pX = 0;\n        }\n        if (sprite.offset_y) {\n            var pY = sprite.offset_y + 'px'\n        } else {\n            var pY = 0;\n        }\n        return '@mixin N { width: Wpx; height: Hpx; background-position: X Y; }'\n            .replace('N', sprite.name)\n            .replace('W', sprite.width)\n            .replace('H', sprite.height)\n            .replace('X', pX)\n            .replace('Y', pY);\n    }).join('\\n');\n\n    return shared + '\\n' + perSprite;\n};\ngulp.task(\"sprite1\",function(){\n    gulp.src(\"../dev/imageSrc/icon/*\").\n    pipe(spriterem({\n        padding : 16,\n        imgName: '../release/images/icon.png',\n        cssName: 'sass/icon.scss',\n        algorithm: 'binary-tree',\n        cssFormat: 'scss',\n        cssTemplate: templateFunction\n    })).\n    pipe(gulp.dest('../dev/'));\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br")])]),a("p",[s._v("二、图片压缩")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gulp-tinypng-nokey\ngulp.task('tinypng', function(cb) {\n    gulp.src('../release/images/*.png')\n        .pipe(tiny())\n        .pipe(gulp.dest('../release/images'));\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("三、文件资源替换")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var replace = require('gulp-replace');\ngulp.task('replace',function(){\n    gulp.src('release/static/css/*.css')\n        .pipe(replace('static/images','../images'))\n        .pipe(gulp.dest('release/static/css'))\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("p",[s._v("四、css中的url地址替换")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var  modifyCssUrls = require('gulp-modify-css-urls');\n\ngulp.task('modifyUrls', function () {\n  return gulp.src('style.css')\n    .pipe(modifyCssUrls({\n      modify: function (url, filePath) {\n        return 'app/' + url;\n      },\n      prepend: 'https://fancycdn.com/',\n      append: '?cache-buster'\n    }))\n    .pipe(gulp.dest('./'));\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("p",[s._v("五、sass编译")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var sass = require('gulp-sass');\nvar sourcemap  = require('gulp-sourcemaps');\nvar autoprefixer = require('gulp-autoprefixer');\nvar cssmin = require('gulp-cssmin');\nvar  modifyCssUrls = require('gulp-modify-css-urls');\n\ngulp.task(\"sass\",function(){\n    return gulp.src(\"../dev/sass/style.scss\")\n        .pipe(sass().on(\"error\",sass.logError))\n        .pipe(autoprefixer({\n            browsers: [\n                'last 5 iOS versions',\n                'last 5 Android versions',\n                'last 5 ExplorerMobile versions',\n                'last 5 ChromeAndroid versions',\n                'last 5 UCAndroid versions',\n                'last 5 FirefoxAndroid versions',\n                'last 5 OperaMobile versions',\n                'last 5 OperaMini versions',\n                'last 5 Samsung versions',\n                'last 3 Chrome versions',\n                'last 3 Firefox versions',\n                'last 3 Safari versions',\n                'last 3 Edge versions'],\n            cascade: true,\n            remove: true\n        }))\n        .pipe(modifyCssUrls({\n         modify: function (url, filePath) {\n        \t  return 'app/' + url;\n      \t    },\n      \t    prepend: 'https://fancycdn.com/',\n            append: '?' + (new Date()).getTime()\n        }))\n        .pipe(cssmin())\n        .pipe(sourcemap.write(\"../cssMap\"))\n        .pipe(gulp.dest(\"../release/css/\"));\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br")])]),a("p",[s._v("六、js合并压缩")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("var concat = require('gulp-concat');\nvar rename = require('gulp-rename');\nvar uglify = require('gulp-uglify');\ngulp.task('js', function () {\n    return gulp.src(['../dev/js/1jq.js', '../dev/js/ks.lazyimg.js','../dev/js/ks.marquee.js','../dev/js/2bdTemp.js','../dev/js/6sockjs.min.js','../dev/js/7centrifuge.min.js','../dev/js/ks.qrcode.js','../dev/js/ks.scrollbar.js','../dev/js/index.js'])\n        .pipe(concat('index.js'))\n        .pipe(rename({suffix: '.min'}))\n        .pipe(uglify())\n        .pipe(gulp.dest('../release/js/'));\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("七、watch")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("gulp.task(\"sass:watch\", function () {\n    gulp.watch(\"../dev/sass/*.scss\",['sass','topbarSass','footerSass']);\n});\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("八、gulp-babel")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('var gulp=require("gulp"),\n    babel = require("gulp-babel"),\n    es2015 = require("babel-preset-es2015"),\n    webpack = require("gulp-webpack"),\n    es3ify = require("gulp-es3ify");\n\ngulp.task("default",function(){\n    gulp.src("./js/es6/*.js")\n        .pipe(babel({presets:[es2015]}))\n        .pipe(gulp.dest("./js"))//es6转js必须在webpack之前，否则webpack找不到要包装的js会报错\n        .pipe(webpack({//babel编译import会转成require，webpack再包装以下代码让代码里支持require\n            output:{\n                filename:"all.js",\n            },\n            stats:{\n                colors:true\n            }\n        }))\n        .pipe(es3ify())\n        .pipe(gulp.dest("./js"));//包装好的js目录\n\n});\n\n\x3c!--\n备注：gulp-es3ify解决ie8,deafault、class等问题\n这两个js单独引入解决ie8一些新特性报错问题，可以用打包引入\n--\x3e\n<script src="js/es5-shim.js"><\/script>\n<script src="js/es5-sham.js"><\/script>\n\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])])])}),[],!1,null,null,null);n.default=r.exports}}]);